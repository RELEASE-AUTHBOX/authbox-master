import midtransclient
from django.http import JsonResponse
def payment(request,order_id,gross_amount,user_email):E=False;D=user_email;C=gross_amount;B=order_id;print('param inside payment is',request,B,C,D);F=midtransclient.Snap(is_production=E,server_key='SB-Mid-server-U1MAx3d3qZ84bzBlvWeYZXbJ',client_key='SB-Mid-client-DEhbYKPYpEQm8_5M');G={'transaction_details':{'order_id':B,'gross_amount':C},'customer_details':{'email':D},'enabled_payments':['credit_card','mandiri_clickpay','cimb_clicks','bca_klikbca','bca_klikpay','bri_epay','echannel','indosat_dompetku','mandiri_ecash','permata_va','bca_va','bni_va','other_va','gopay','kioson','indomaret','gci','danamon_online'],'callbacks':{'finish':'https://authbox.web.id'}};A=F.create_transaction(G);H=A['token'];print('transaction_token:');print(H);I=A['redirect_url'];print('transaction_url:');print(I);return JsonResponse(A,safe=E)